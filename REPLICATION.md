# [MC number] [Imperfect Example] Validation and Replication results



> Some useful links:
> - [Official Data and Code Availability Policy](https://www.aeaweb.org/journals/policies/data-code)
> - [Step by step guidance](https://aeadataeditor.github.io/aea-de-guidance/) 
> - [Template README](https://social-science-data-editors.github.io/template_README/)

SUMMARY
-------

> INSTRUCTION: The Data Editor will fill this part out. It will be based on any [REQUIRED] and [SUGGESTED] action items that the report makes a note of. 

> INSTRUCTION: ALWAYS do "Data description", "Code description". If data is present, ALWAYS do "Data checks". If time is sufficient (initial assessment!), do "Replication steps", if not, explain why not.

> INSTRUCTION: leave this in.

> The openICPSR submission process has changed. If you have not already done so, please "Change Status -> Submit to AEA" from your deposit Workspace.

> [NOTE] Starting July 1, 2021, we will start to publish replication packages as soon as all requested changes to the deposit have been made. Please process any requested changes as soon as possible.

General
-------

> [SUGGESTED] A recommended README template for replication packages in economics can be found on the [Social Science Data Editor Github site](https://social-science-data-editors.github.io/guidance/template-README.html).

Data description
----------------

### Data Sources

#### US Census of Population

- Dataset is not provided, but a link is provided in the README: 
    https://doi.org/10.3886/ICPSR13568.v1
- Access conditions are  described. The website requires registration.
- The data are cited in the paper, but not in the README. See template README referenced above.

Citation in paper

> United States. Bureau of the Census. Census of Population and Housing, 2000 [United States]:  Public Use Microdata Sample:  5-Percent Sample    . [distributor], 2006-01-12. https://doi.org/10.3886/ICPSR13568.v1

> [SUGGESTED] For clarity, please add data citations to the README as well.



### Analysis Data Files


- [x] No analysis data file mentioned
- [ ] Analysis data files mentioned, not provided (explain reasons below)
- [ ] Analysis data files mentioned, provided. File names listed below.

The following analysis file is created, not mentioned:

```
 pumsak.dta
```

Data deposit
------------

(skipped, not relevant here, but could be meaningful if creating an accompanying deposit.

For additional guidance, see [https://aeadataeditor.github.io/aea-de-guidance/data-deposit-aea-guidance.html](https://aeadataeditor.github.io/aea-de-guidance/data-deposit-aea-guidance.html).

Data checks
-----------

No data are present so we ran no checks.


Code description
----------------

There are five provided Stata do files, including a "master.do", and one DCT (dictionary) file. 

- `01_dataclean.do` does data preparation
- Table 1 is generated by `02_table1.do`



Stated Requirements
---------------------



- [ ] No requirements specified
- [x] Software Requirements specified as follows:
  - Stata (inferred)
- [x] Computational Requirements specified as follows:
  - 2016 vintage workstation, Linux
- [x] Time Requirements specified as follows:
  - 1.6s

- [ ] Requirements are complete.


Missing Requirements
--------------------

> INSTRUCTIONS: If it turns out that some requirements were not stated/ are incomplete (software, packages, operating system), please list the *missing* list of requirements here. Remove lines that are not necessary. If the stated requirements are complete, delete this entire section, including the [REQUIRED] tag at the end.

- [x] Software Requirements 
  - [x] Stata
    - [x] Version
    - [x] Packages: 'latab'

> [REQUIRED] Please amend README to contain complete requirements. 

You can copy the section above, amended if necessary.

Computing Environment of the Replicator
---------------------

- CodeOcean, Stata 'MP 16.0 on Ubuntu 18.04
  - Stata Updated as of: 11 Dec 2019
  - Processors: 4

Replication steps
-----------------

1. We obtained a zip file from the authors with code.
2. Downloaded data from DOI indicated in the README. A sign-up was required.
3. Upliaded the code part to CodeOcean.
4. We adjusted some paths.
5. Code failed because command 'latab' was not installed
    - Added code to the "config.do" to install 'latab'
6. We created a few subdirectories to house the downloaded data and added to code to create directories for cleaned data.
7. We uploaded data.
8. Code ran without error.

>[SUGGESTED] Add code to "config.do" that creates directories named "inputdata" and "outputdata".

> [SUGGESTED] Specify where the downloaded data needs to be stored.

When unzipping (on Windows), the directories created did not correspond to the code.

> [SUGGESTED] While the data downloaded contains 100+ files, only one file is used. Please specify this in the README, as individual files can be downloaded from ICPSR.

Findings
--------

### Data Preparation

Code runs cleanly, analysis data is created.



### Tables

- Table 1: Looks the same


### In-Text Numbers

[x] There are no in-text numbers, or all in-text numbers stem from tables and figures.
[ ] There are in-text numbers, but they are not identified in the code


Classification
--------------

- [x] full reproduction
- [ ] full reproduction with minor issues
- [ ] partial reproduction (see above)
- [ ] not able to reproduce most or all of the results (reasons see above)

### Reason for incomplete reproducibility

- [ ] `Discrepancy in output` (either figures or numbers in tables or text differ)
- [x] `Bugs in code`  that  were fixable by the replicator (but should be fixed in the final deposit)
- [ ] `Code missing`, in particular if it  prevented the replicator from completing the reproducibility check
  - [ ] `Data preparation code missing` should be checked if the code missing seems to be data preparation code
- [ ] `Code not functional` is more severe than a simple bug: it  prevented the replicator from completing the reproducibility check
- [ ] `Software not available to replicator`  may happen for a variety of reasons, but in particular (a) when the software is commercial, and the replicator does not have access to a licensed copy, or (b) the software is open-source, but a specific version required to conduct the reproducibility check is not available.
- [ ] `Insufficient time available to replicator` is applicable when (a) running the code would take weeks or more (b) running the code might take less time if sufficient compute resources were to be brought to bear, but no such resources can be accessed in a timely fashion (c) the replication package is very complex, and following all (manual and scripted) steps would take too long.
- [ ] `Data missing` is marked when data *should* be available, but was erroneously not provided, or is not accessible via the procedures described in the replication package
- [ ] `Data not available` is marked when data requires additional access steps, for instance purchase or application procedure. 
